<html>
	<head>
		<title>SourceBans FAQ</title>
		<link rel="SHORTCUT ICON" href="https://raw.githubusercontent.com/Sarabveer/SourceBans/master/web_upload/images/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.css">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

		<!-- Font Awesome -->
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	</head>
	<body>
    <div class="container">
		<div class="page-header">
			<h1>SourceBans<small>&nbsp;FAQ</small></h1>
			<div class="clearfix"></div>
		</div>
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">What is SourceBans?</h3>
			</div>
			<div class="panel-body">
				SourceBans is a global administration system for multiple Source based game servers where admins and bans can be added across more than one server.
			</div>
		</div>
		<div class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title">Which ports does the SourceBans Web-Panel require to be open?</h3>
			</div>
			<div class="panel-body">
				<p>If your web panel shows <strong>Error Connecting</strong> for your game server when it is actually online,<br />
				ask your web host to open <strong>UDP incoming</strong> from your game server port (usually <strong>27015</strong>).</p>
				<p>If either the <strong>RCON console</strong>, <strong>Admin Rehashing</strong> or <strong>Kick-It</strong> does not work on your web panel,<br />
				ask your web host to open <strong>TCP outgoing</strong> to your game server port (usually <strong>27015</strong>).</p>
				<p>Use <a href="/web/20131207151223/http://www.sourcebans.net/public/sb_debug_connection.zip"><strong>this</strong></a> small testing script to get more detailed debugging information. Open the php file and add your gameserver's ip and port as described in the comments.</p>
				<p>You should always check beforehand, if your gameserver banned your webserver's ip with <code>listip</code> in rcon. Remove it from the banned_ip.cfg and <code>removeip IP</code> via rcon.</p>
			</div>
		</div>
		<div class="panel panel-warning">
			<div class="panel-heading">
				<h3 class="panel-title">Why is the Web-Panel showing "Error Connecting (IP:PORT)" for my server, when it's actually Online?</h3>
			</div>
			<div class="panel-body">
				See <b>Which ports does the SourceBans webpanel require to be open?</b>.
			</div>
		</div>
		<div class="panel panel-danger">
			<div class="panel-heading">
				<h3 class="panel-title">Why is the webpanel showing me a blank white page?</h3>
			</div>
			<div class="panel-body">
				<p>This is because PHP has encountered a fatal error and cannot show any more of the page.</p>
				<p>To show the error message that PHP produced, you need to add the debug parameter to your URL. For example, if your current URL is <a href="/web/20131207151223/http://www.sourcebans.net/index.php" title="http://www.sourcebans.net/index.php">http://www.sourcebans.net/index.php</a> then you can add the debug parameter by changing the URL to <a href="/web/20131207151223/http://www.sourcebans.net/index.php?debug=1" title="http://www.sourcebans.net/index.php?debug=1">http://www.sourcebans.net/index.php?debug=1</a></p>
				<p>If your URL already has parameters, then add debug on the end, like this: <a href="/web/20131207151223/http://www.sourcebans.net/index.php?p=home&amp;debug=1" title="http://www.sourcebans.net/index.php?p=home&amp;debug=1">http://www.sourcebans.net/index.php?p=home&amp;debug=1</a></p>
				<p>In most cases, the error message will be self explanatory, but if you need help, then post on our forums.</p>
			</div>
		</div>
		<div class="panel panel-warning">
			<div class="panel-heading">
				<h3 class="panel-title">My Banlist doesn't show up, but all other pages do. What can I do?</h3>
			</div>
			<div class="panel-body">
				<p>Your PHP configuration restricts SourceBans to a certain amount of memory.<br />
				When viewing the Banlist it tries to lookup the according country for the IP. This is done by loading a ~7MB database file into the memory.</p>
				<p>There are several ways to solve this.</p>
				<ul>
				<li>Remove the '//' in front of this line in your config.php: <code>define('SB_MEM', '128M');</code></li>
				<li>Ask your webhost to increase the PHP '<code>memory_limit</code>' setting.</li>
				<li>If it still doesn't show up, check the box for 'No Country Research' in your webpanel settings page.</li>
				</ul>
			</div>
		</div>	
		<div class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title">Why is the "Ban player" option missing in SourceMod's admin menu?</h3>
			</div>
			<div class="panel-body">
				<p>Most likely SourceMod's basebans.smx was still loaded when you installed SourceBans' game plugin. The game plugin automatically disables basebans.smx, but your server needs to be restarted for the "Ban player" option to come available.</p>
				<p>Some hosters might disallow plugins to move files. Make sure the basebans.smx is in the plugins/disabled folder.</p>
			</div>
		</div>		
		<div class="panel panel-danger">
			<div class="panel-heading">
				<h3 class="panel-title">Why does the game plugin error log tell me "Database failure: Could not find database conf "sourcebans"?</h3>
			</div>
			<div class="panel-body">
				<p>You forgot to add the "sourcebans" section to SourceMod's databases.cfg, as instructed in the installation.</p>
				<p>Please go to <a href="/web/20131207151223/http://your.sourcebans.install/index.php?p=admin&amp;c=servers&amp;o=dbsetup" title="http://your.sourcebans.install/index.php?p=admin&amp;c=servers&amp;o=dbsetup">http://your.sourcebans.install/index.php?p=admin&amp;c=servers&amp;o=dbsetup</a> (replace your.sourcebans.install with your own URL) and add the "sourcebans" section to your databases.cfg.</p>
			</div>
		</div>
		<div class="panel panel-danger">
			<div class="panel-heading">
				<h3 class="panel-title">I get the following error: Database failure: [1044/1045/1130/2002/2003]</h3>
			</div>
			<div class="panel-body">
				<p>If the error message reads "Can't connect to local MySQL server through socket", you need to find the "sourcebans" section in databases.cfg and change the value of "host" from "localhost" to the path of your mysql.sock file. If you don't know where mysql.sock is located, ask your gameserver host.<br />
				&nbsp;</p>
				<p>Otherwise, most likely your MySQL server does not allow incoming connections from your gameserver. To fix this, you can do either of the following:</p>
				<ul>				
				<li>Go into your webserver's control panel and check if there's a section called MySQL Access Hosts, Remote MySQL or something named similar. There you can add the IP address mentioned in the error. This is usually the IP of your gameserver, but it can also be slightly different, so make sure you copy and paste it exactly from the error.</li>
				<li>The other option is to run the following query on your SourceBans database (for example using phpMyAdmin):<br />
				GRANT ALL ON database.* TO 'username'@'ip';</li>
				</ul>
				<p>You will have to replace "database" with your SourceBans database name, and "username" and "ip" with those mentioned in the error.</p>
			</div>
		</div>
		<div class="page-header page-banner forceup"></div>
			<div id="footer">
				<small><p>Copyright &copy; <a href="http://www.sourcebans.net/">SourceBans Team</a> 2007-2014 - Part of <a href="http://www.gameconnect.net/">GameConnect</a></p></small>
				<small><p>Copyright &copy; <a href="https://www.sarabveer.me/">Sarabveer Singh</a> 2014-2015</p></small>
				&nbsp;
			</div>
		</div>
	</div>
	</body>
</html>
